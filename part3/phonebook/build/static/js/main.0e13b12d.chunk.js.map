{"version":3,"sources":["services/personservices.js","components/persons.js","components/filter.js","components/personsform.js","components/notif.js","App.js","index.js"],"names":["personservices","axios","get","concat","then","response","data","newPerson","post","id","newObject","put","console","log","delete","Persons","props","persons","setPersons","React","createElement","Fragment","filter","person","name","toLocaleLowerCase","includes","wordFilter","map","key","number","type","onClick","window","confirm","personServices","catch","err","Filter","_ref","inputFilter","value","onChange","PersonsForm","addName","newName","inputName","newNum","inputNum","onSubmit","Notification","message","style","className","App","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNum","_useState7","_useState8","setWorldFilter","_useState9","_useState10","errormsg","setErrorMsg","_useState11","_useState12","styleMsg","setStyleMsg","useEffect","event","target","preventDefault","personExists","toLowerCase","length","msg","newData","newpersonArray","setTimeout","error","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.0e13b12d.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api'\n\nconst getAll = () => {\nconst request = axios.get(`${baseUrl}/persones`)\nreturn request.then(response =>   response.data)\n};\nconst addPerson = (newPerson) => {\n  const request = axios.post(`${baseUrl}/persones`, newPerson)\n  return request.then(response => response.data)\n};\nconst updatePerson = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/persones/${id}`, newObject)\n  return request.then(response => response.data)\n};\nconst deletePerson =  (id) => {\n  console.log('deleting...')\n  const request = axios.delete(`${baseUrl}/persones/${id}`)\n  return request.then(response => response.data)\n};\n\n export default {getAll, addPerson, updatePerson, deletePerson}","import React from 'react';\nimport personServices from '../services/personservices';\n\nconst Persons = (props) =>{\n  const {persons, setPersons} = props;\n  const deletePerson = (id) =>{\n    personServices.deletePerson(id).then(() => setPersons(persons.filter(person=> person.id !== id))).catch(err=>console.log(err));\n  }\n    return(\n    <>\n    <h2>Numbers</h2>\n    {persons.filter(person => person.name.toLocaleLowerCase().includes(props.wordFilter.toLocaleLowerCase()))\n    .map(person => {\n      return(\n        <>\n          <span key={person.id}>{person.name} {person.number}\n          <button type='sumbit' onClick={() => window.confirm(`Delete ${person.name}`) ? deletePerson(person.id) : console.log('canceled')}>Delete</button>\n          </span><br />\n         \n        </>\n      )\n    })}\n    </>\n  )\n}\nexport default Persons;","import React from 'react';\n\nconst Filter = ({wordFilter, inputFilter})=>{\n  return(<div>\n    filter shown by :<input value={wordFilter} onChange={inputFilter}/>\n  </div>)\n}\n\n  \nexport default Filter;","import React  from 'react';\n\nconst PersonsForm = ({addName, newName, inputName, newNum, inputNum}) => {\n  return(\n    <>\n     <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={inputName}/><br />\n          number: <input value={newNum} onChange={inputNum}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n}\nexport default PersonsForm;","import React from \"react\";\nconst Notification = ({message, style}) => {\n  if (message!=null) \n  return (\n    <div className={style}>\n      {message}\n    </div>\n  )\n}\n\nexport  default Notification","import { useState, useEffect } from 'react'\nimport Persons from './components/persons';\nimport Filter from './components/filter';\nimport PersonsForm from './components/personsform';\nimport personservices from './services/personservices';\nimport React  from 'react';\nimport Notification from './components/notif'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [wordFilter, setWorldFilter] = useState('')\n  const [errormsg, setErrorMsg] = useState(null)\n  const [styleMsg, setStyleMsg] = useState('valid')\n\n\n  const inputName = (event)=>{\n    setNewName(event.target.value)\n  }\n  const inputNum = (event)=>{\n    setNewNum(event.target.value)\n  }\n  const inputFilter = (event)=>{\n    setWorldFilter( event.target.value)\n  }\n  const addName = (event)=>{\n      event.preventDefault();\n      const personExists = persons.filter(person=> person.name.toLowerCase() === newName.toLowerCase());\n      const newPerson = { name : newName, number : newNum};\n    if(personExists.length === 1){\n        const msg = `${newName} is already added to phonebook, replace the old number with the new one`\n       if(window.confirm(msg)){\n        personservices.updatePerson(personExists[0].id, newPerson)\n        .then(newData => { \n          const newpersonArray = persons.map(person => {\n            if(person.id === newData.id)\n              person = newData\n            return person\n          })\n          setPersons(newpersonArray.map(person => person))\n          setErrorMsg('Updated Person Number')\n          setStyleMsg('valid')\n          setTimeout(() => setErrorMsg(null),2000)\n        })\n        .catch(err=> {\n          console.log(err)\n          setErrorMsg(err.response.data.error)\n          setStyleMsg('error')\n          setTimeout(() => setErrorMsg(null),2000)\n        })\n       }\n    } \n    else{\n      personservices.addPerson(newPerson).then( ()=> {\n        setPersons(persons.concat(newPerson))\n      setNewName('')\n      setNewNum('')\n      setErrorMsg('Added Person Number')\n      setStyleMsg('valid')\n      setTimeout(() => setErrorMsg(null),2000)\n      }).catch(err => \n        {\n        setErrorMsg('Validation Error');\n          setStyleMsg('error')\n          setTimeout(() => setErrorMsg(null),2000)});\n    }\n \n    \n  }\n\n  const populate = () => {\n    personservices.getAll().then(persons => setPersons(persons))\n  }\n  useEffect(populate,[])\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errormsg} style={styleMsg}/>\n      <Filter wordFilter={wordFilter} inputFilter={inputFilter}/>\n      <h2>Add a new</h2>\n\n      <PersonsForm addName={addName} newName={newName} inputName={inputName} newNum={newNum} inputNum={inputNum} />\n      <Persons persons={persons} wordFilter={wordFilter} setPersons={setPersons}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}